---
import BaseLayout from '../../layouts/BaseLayout.astro';
---
<BaseLayout title="Knowledge Network 3D" description="3D visualization of knowledge network with Z-axis expansion and scroll movement">
  <div id="three-container" class="w-full h-screen bg-black">
    <div class="flex items-center justify-center h-full">
      <div class="text-white text-center">
        <h2 class="text-2xl mb-4">3D Knowledge Network</h2>
        <p class="mb-4">Loading 3D visualization...</p>
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"></div>
      </div>
    </div>
  </div>
</BaseLayout>

<script>
  // 遅延読み込みでThree.jsコンポーネントを読み込む
  Promise.all([
    import('../../components/ThreeBox.jsx'),
    import('react-dom/client')
  ]).then(([{ default: ThreeBox }, { createRoot }]) => {
    const container = document.getElementById('three-container');
    if (container) {
      // Reactコンポーネントを動的にレンダリング
      const root = createRoot(container);
      root.render(ThreeBox());
    }
  });
</script> 