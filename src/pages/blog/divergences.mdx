---
layout: "../../layouts/BaseMarkdownLayout.astro"
title: "Obsidian 自作テーマ「Divergences」について"
date: "2025-07-17"
description: "Obsidian 自作テーマ「Divergences」の開発と導入手順について"
author: "AI Language Model (Gemini 2.5 Pro)"
tags: ["Obsidian", "自作テーマ", "CSS","Divergences"]
---
import { Image } from 'astro:assets';
import divergencesImg from '../../assets/divergences.png';

## 1. 緒言

本レポートは、多機能ノートアプリ「Obsidian」において、ユーザー体験を向上させるためのインターフェースのパーソナライズ、具体的にはカスタムテーマ「Divergences」の開発から導入に至る全過程を記録し、その技術的詳細と知見を報告するものである。

Obsidianは高いカスタマイズ性を有するが、既存のテーマでは個々のユーザーが求める最適な作業環境を完全に満たすことが難しい場合がある。この課題認識が、本プロジェクトの出発点となった。本稿では、まず既存テーマのCSS（Cascading Style Sheets）改変の試みとその限界について述べ、次にゼロベースでの新規テーマ開発のプロセスと設計思想を詳述する。最終的に、完成したテーマ「Divergences」の具体的な導入手順と設定方法を網羅的に解説する。

## 2. 既存テーマの改変と課題

### 2.1. カスタマイズの動機と初期段階

開発の初期段階では、既存のコミュニティ製テーマ「AnuPpuccin」（[https://github.com/AnubisNekhet/AnuPpuccin](https://github.com/AnubisNekhet/AnuPpuccin)) をベースとした。このテーマは優れたデザインであったが、長期間使用する中で「UIをさらに自身の作業に最適化したい」という要求が強まった。この要求が、カスタムCSSを用いた部分的な改変に着手する直接的な動機となった。

当初の作業は、サイドバーの背景色やフォントの変更といった単純なものであった。しかし、Obsidianの内部構造は想定以上に複雑であり、各要素は詳細なクラスやセレクタによって制御されていた。

### 2.2. 技術的課題

改変作業において、いくつかの技術的課題が明らかになった。例えば、背景色一つを変更するにも、「プレビュー画面」「エディタ画面」「サイドバー」といった各要素に対応するセレクタを個別に特定する必要があった。単一の指定で一括変更が可能であるという初期の想定は誤りであり、開発者ツールを用いて要素を特定し、試行錯誤を繰り返す作業が求められた。

さらに、ベーステーマのCSSは多層的に定義されており、レイアウト、配色、ホバーエフェクトなどが複雑に絡み合っていた。このため、一部の変更が予期せぬ別の要素に影響を及ぼすという事態が頻発した。リンクの色を変更した結果、背景色とのコントラストが不均衡になるなど、一つの修正が新たな修正箇所を生む「芋づる式」の作業が続いた。この過程はパズル的な面白さを持つ一方で、抜本的なデザイン変更の困難さを示唆していた。

### 2.3. 自作テーマ開発への移行

既存テーマの改変を続ける中で、以下のような具体的な改善要求が次々と生じた。

>   * サイドバーのフォルダ間隔を詰め、情報の一覧性を向上させたい。
>   * 見出しをより大きくし、視認性を高めたい。
>   * リストの行間を広げ、可読性を改善したい。

これらの要求を満たすためには、既存のコードを追いかけるよりも、ゼロから自身の設計思想に基づいてテーマを構築する方が、効率的かつ自由度が高いと結論付けた。この結論が、次章で述べる新規テーマ「Divergences」の開発へと繋がった。

## 3. 新規テーマ「Divergences」の開発

### 3.1. 開発理念と目標

テーマ「Divergences」の開発にあたり、最も重視した目標は「使っていて楽しい」という主観的な体験価値の創出である。これを実現するため、ダークブルーとパープルを基調とした幻想的な配色を採用した。背景を暗色系に統一し、ノードやリンクが紫や青系に発光するように見せることで、視認性と美的感覚を両立させる「発光エフェクト」のようなデザインを意識した。

同時に、Obsidianが本来持つPKM（パーソナル・ナレッジ・マネジメント）ツールとしての実用性を損なわないよう、情報の整理しやすさとデザイン性のバランスを重視した。さらに、ユーザーが自身の好みに合わせて容易に調整できるよう、高いカスタマイズ性を持つ設計とした。

<Image src={divergencesImg}  alt="Divergencesテーマのスクリーンショット" />

### 3.2. 開発手順

開発は以下の4つの手順で進められた。

1.  ベーススタイルの定義: テーマの全体的な雰囲気（落ち着いた色合いか、ポップな色味か）、背景色、フォントなどの基本方針を決定した。
2.  ObsidianのCSS構造の理解: Obsidianのデフォルトスタイルを解析し、上書きすべき要素と方法を特定した。特にテーマの印象を大きく左右する透過度などの視覚効果については、調整すべき箇所を事前に洗い出した。
3.  実装と調整: 実際にCSSコードを記述し、Obsidianの開発者ツール（Obsidian Developer Tools）を活用してリアルタイムでプレビューと微調整を繰り返した。要素の階層構造を調査しながら、段階的に理想形へと近づけた。
4.  テーマの公開: 自身が「使いやすい」と判断できる水準に達した時点で、GitHubにリポジトリを作成してテーマを公開した。これにより、外部からのフィードバックを得る機会が生まれ、テーマの継続的な改善に繋がると考えた。

## 4. 「Divergences」の導入手順

本章では、開発したテーマ「Divergences」をユーザーが自身のObsidian環境に導入するための具体的な手順を詳述する。

### 4.1. Step 1: テーマのインストール

1.  テーマファイルの入手:
    GitHubリポジトリ（[https://github.com/Mekann2904/obsidian-divergences-theme](https://github.com/Mekann2904/obsidian-divergences-theme)）にアクセスする。画面右側の「Releases」セクションから最新版の `Divergences.zip` をダウンロードする。
2.  テーマフォルダへの配置:
    Obsidianの「設定」→「外観」タブを開き、「テーマ」項目にあるフォルダアイコンをクリックしてテーマフォルダ（`.obsidian/themes`）にアクセスする。ダウンロードしたzipファイルを解凍し、中身のフォルダをこのthemesフォルダ内に配置する。
3.  テーマの有効化:
    Obsidianの「外観」設定に戻り、「テーマ」のドロップダウンメニューから「Divergences」を選択する。本テーマはダークモード専用設計であるため、同画面で「基本テーマ」を「ダーク」に設定し、「半透明ウィンドウを有効化」をオンにする必要がある。

### 4.2. Step 2: 関連プラグインの導入

テーマの全機能を利用するためには、以下のコミュニティプラグインの導入が必須または推奨される。

  * obsidian-style-settings（必須）:
    テーマの詳細なデザイン（配色、背景設定、エフェクト等）をGUIで調整するためのプラグイン。
  * [obsidian-local-vault-server](https://github.com/Mekann2904/obsidian-local-vault-server-plugin.git)（推奨）:
    ローカルPC上の画像を安全にObsidianの背景として利用するためのプラグイン。

上記プラグインは、「設定」→「コミュニティプラグイン」から検索し、インストールと有効化を行う。

### 4.3. Step 3: カスタム背景の設定

1.  「設定」→「Style Settings」（プラグイン設定項目）を開き、「Divergences」のセクションを選択する。
2.  「カスタム背景を有効化」をオンにする。
3.  「画像のURLを設定」欄に、背景として使用したい画像のURL（例: `http://127.0.0.1:3000/image.jpg`）を入力する。
4.  「フィルターの設定」項目で、背景の透明度やぼかし効果を任意の値に調整する。
5.  背景が表示されない場合は、URLの正当性（ブラウザで直接開けるか）、フィルター設定、Obsidianの再起動などを確認する。

## 5. 考察

一連のテーマ開発を通じて得られた最大の収穫は、Obsidianの内部構造、特にDOM（Document Object Model）とCSSの関連性についての深い理解である。単に外観を変更するだけでなく、自身の作業スタイルに合わせてUIを最適化するプロセスは、ツールへの愛着を深め、生産性を向上させる上で極めて有効であった。

既存テーマの改変から始めたことにより、CSSの継承や詳細度の概念を実践的に学ぶことができた。一方で、ゼロからの開発は、設計の自由度が高い反面、UIの全要素に対して一貫したデザイン思想を適用する必要があり、より包括的な設計能力が求められることを認識した。この経験は、今後のプラグイン開発やさらなるカスタマイズへの大きな足がかりとなるだろう。

## 6. 結論

本プロジェクトは、Obsidianの既存テーマに対する個人的な改善要求から始まり、最終的に完全オリジナルのカスタムテーマ「Divergences」を開発・公開し、その導入方法を確立するに至った。この一連の過程は、Obsidianを単なるノートアプリから、ユーザー個人のための最適化された創作空間へと変貌させることの価値を実証した。

本レポートが、同様にObsidianのカスタマイズに挑戦しようとする他のユーザーにとって、一つの実践的な指針となることを期待する。

-----

補遺：フィードバックの要請
本テーマに関する質問や改善提案、不具合報告は歓迎する。また、本テーマを使用した感想などを、X（旧Twitter）上でハッシュタグ `#Divergences` および `@Mekann2904` を付与して投稿いただければ、開発の励みとなる。